# 简历中的欠缺之处

## 欠缺知识点

- [ ] 集合框架
- [ ] 多线程理解
- [ ] JVM未学完
- [ ] mysql 索引
- [ ] redis回顾
- [ ] elasticsearch倒排索引、索引分片优化
- [ ] linux命令、docker相关
- [x] 个性化推荐算法（攒一个业务场景）



### 集合框架薄弱点：

- TreeMap、TreeSet定制排序
- HashSet去重原理，底层实现HashMap原理，拉链法。。。
- 线程安全问题：List的，Map中的concurrentHashMap
- 细节问题，为什么线程不安全？如hashmap
- 扩容机制
- hashmap的遍历方式（不会）。

### String面试题

https://www.cnblogs.com/rese-t/p/8024166.html

### String与StringBuffer的区别

https://zhidao.baidu.com/question/588454398850627405.html

### StringBuffer 和 StringBuilder 类——StringBuffer、StringBuilder字符串变量

https://blog.csdn.net/weixin_41101173/article/details/79677982

### Redis缓存穿透和缓存雪崩以及解决方案

https://www.cnblogs.com/George1994/p/10668889.html

https://www.cnblogs.com/xichji/p/11286443.html

穿透解决：

除了布隆过滤器、就是把空结果缓存，但是设置很短的声明周期

## 一、业务场景

### 1.推荐算法：

##### 基于内容的推荐

A用户（病人），浏览过相关疾病信息，然后根据这篇文章中的几个指标来推荐相关文章。

- 指标1：这个疾病是（慢病 or 普通疾病、属于什么科、老年人容易得还是儿童容易）什么**标签**的
  - 如何判断该文章属于什么标签？例如判断疾病，通过 搜索查询 or 医疗知识图谱方式来实现疾病分析，通过统计分析，判断发病的年龄段。
  - 标签有个标签池，存放疾病标签，这篇文章 or 帖子 某个词汇出现的越多而且它属于专业术语，那么把他归为关键词，通过分析关键词属于什么类型的然后把它打上标签。
- 指标2：通过文章中出现的关键词频率，来判断文章的相似度，关键词通过分词器（自然语言处理的思想）提取。
- 场景举例：A用户浏览了一篇“老年人不得不注意的几个饮食习惯”文章，文章中出现了多次高血压关键词，通过分词器提取出来，然后分析高血压，属于慢病；肥胖人，中老年人易得；然后给这篇文章打上相关标签。
- 算法：皮尔逊算法、K近邻算法



### 2.反爬虫&爬虫&反反爬虫：

爬虫(Spider)，反爬虫(Anti-Spider)，反反爬虫(Anti-Anti-Spider)

https://www.zhihu.com/question/28168585

- 通过UA判断。这是最低级的判断，一般反爬虫不会用这个做唯一判断，因为反反爬虫非常容易，直接随机UA即可解决。
- 通过单IP频繁访问判断。这个判断简单，而且反反爬虫比较费力，反爬虫绝佳方案。需采用多IP抓取。
- 通过Cookie判断。例如通过会员制账号密码登陆，判断单账号短时间抓取次数判断。这个反反爬虫也很费力。需采用多账号抓取。
- 动态页面加载。这个考验前端工程师的功底，如果前端写的好，各种JS判断，各种逻辑， post登录很难。方法较好，但是对于大牛，还是防不胜防。反反爬虫多采用渲染浏览器抓取，效率低下。
- 采用验证码。这里要么是登录的时候有验证码，要么是判断是爬虫时，不封IP，而是采用验证码验证。验证码是反爬虫性价比较高的一种方案。反反爬虫一般接入OCR验证码识别平台或者人工打码平台，亦或者利用Tesseract OCR识别，亦或者采用神经网络训练识别验证码等
- 举例：众阳反爬虫

### 3.搜索引擎

## 二、2020暑期面经

### 其他人面经：

算法常问：

- 二叉树遍历
- leetcode上面有个万能模板：快手、一点一面

### 京东爬虫二面：

并发访问性能优化怎么做到的

### 网易有道后台一面：

- 算法题：回文链表、链表反转
- 深拷贝、浅拷贝
- shell一些命令，做没做过文本处理
- redis，数据结构，用的哪个最多，sort_set，最多存储多少元素

### 爱奇艺数据库一面：

- 会前端吗？
- 知识图谱怎么实现的？怎么存到数据库的（存到数据库主要是啥<实体、语义、属性>），举一个具体例子
- 个性化推荐用到哪些算法？---K近邻、皮尔逊系数---- 咋用的？
- 集合框架你用过哪些？介绍下...
- 搜索引擎是怎么优化的分片？怎么设计的搜索引擎？

### 爱奇艺数据库二面：

- Java锁机制：1.什么是乐观锁、悲观锁？2.synchronized和ReentrantLock的区别
- Java线程池：1.用过线程池吗？2.线程池的数量阈值是不是设的越大越好？3.等等
- JVM垃圾回收：1.垃圾是怎么进行界定的，什么时候进行回收？2.垃圾回收的流程 3.CMS与G1的区别
- 设计模式：单例多例
- MySQL数据库锁：1.什么是乐观锁、悲观锁？2.MySQL各种锁 3.锁的应用场景，结合实际例子
- MySQL事物的隔离级别
- **MySQL索引**：
- 查询优化无非就是拆分表（根据业务逻辑），加索引
  - 加索引原则是：高频访问的字段、字段大小长度相同
    - 从使用情况、结构方面进行优化
  - 技术索引、非技术索引（没查到相关说法）
- Spring：

  - Spring的特色：IOC、AOP（缺乏实践）
  - 谈一下AOP的作用、应用场景
    - 事务控制、日志管理、登录权限验证、异常管理
    - 我要给某一个方法单独加一个异常，而不是共有的异常，该如何呢？
- 单点登录与多点登录（我不会，他就简单介绍了概念）
- 页面出现了500错误，应该怎么排查（出现了bug的排查流程）
- 第三方请求我的服务，长时间无响应，在端口通、数据库访问正常、程序正常的情况下

  - 检查服务器的性能负载，是不是出现了，内存占用、CPU占用飙升的情况，是不是Java进程占用资源过多

  - top命令得出Java进程号 -> 检查java进程 -> 进一步通过java工具（一些命令），检查线程的占用资源情况，排查，分析，解决

  - 是不是程序进入了死循环
- 以下业务场景，该怎么处理
  - 有人给我口头的，描述了一个繁琐的、表达不清的业务 => 设计工单系统，有问题描述，处理反馈，需求文档，然后自己把需求理清楚，录入工单
  - 操作繁琐，经常有重复性工作的 => 设计自动化开发工具
  - 集群过大，经常性的查看日志，进行监控（查看是死是活） => 设计监控工具，所有的服务ping我

### 滴滴一面（开了屏幕共享）：

- mysql innodb引擎

- volatile

  - 前言：编写Java程序中，JVM为了提高程序的执行效率，会对我们的程序进行优化，把经常需要被访问的变量存储在我们的缓存当中（即存到CPU寄存器中），而避免直接去内存里读，cpu访问内存的数据，需要通过总线发送指令给内存，这个速度远比不让我们的cpu在我们的寄存器里直接读取数据，可以大大的提高我们程序的运行效率，但是当遇到多线程的情况，变量的值可能已经被别的线程改变了，而该缓存却无法察觉内存中的变化，从而造成我们的线程读取的数据跟内存里的数据是不一致的（脏数据）

  - <img src="C:\Users\ckzh1\Desktop\test1.png" alt="test1" style="zoom:150%;" />

  - 加入volatile关键字后，系统每一次用到这个变量，会直接从内存去取，而不会利用缓存

  - 但是volatile并不能保证我们操作的一个原子性，所以，他是不能取代我们的synchronized的，而且会阻止编译器对我们的程序进行优化，除非很有必要，不然就要避免使用volatile这个关键字

    

  - 总结：在多线程操作中，保证变量得可见性，避免多线程操作下读取到脏数据

- 说一说你了解的设计模式

- 多线程实现同步，锁，轻量级锁

- 说一下内存结构（频繁）

- 垃圾回收机制、垃圾回收器

- b与b+树区别

- sql
  
  - 查询一个学生名称，三门成绩在90分以上，总分排在前十名
  
- 编程
  
  - 4*5的网格，只能往下、往右，有多少种走法，编程实现
  
- sping全家桶（SSM+SpringBoot）你在实际项目中主要是做什么的

- redis基本数据结构有哪些，String类型和C语言、Python、Java的String有什么区别

- redis你实际应用主要应用在什么场景，如何实现？

- redis缓存预热、雪崩、穿透、击穿都是什么、如何解决？

- redis为什么这么快？为什么单线程就快

  - cpu io不如多线程，但很少遇到
  - 单线程不用上下文切换
  - 数据结构简单

### 搜狐新闻客户端一面

Q：用过spring cache吗，结合redis使用

Q：直接使用jedis客户端，每次调用都需要手动释放资源，一般都需要包装一层，spring data redis类库中有这样的包装

Q：spring cache不支持方法级别的缓存过期时间，需要自己去增强，这种aop你觉得应该怎么去做

Q：执行后更新缓存，如果是多线程编程，会有什么风险

A：多线程的情况下可能造成脏数据问题

Q：怎么造成了脏数据问题？

A：多线程的情况，线程调度是随机的，变量的值可能已经被别的线程改变了，所以执行更新缓存之前，可能就有其他线程已经使用了该数据
	   就是说，一个线程更新缓存，改变了值，但是另一个线程使用的不是缓存更新之前的值了

Q：假设在数据库更新了张三的年龄。两个并发的线程一个更新为18，一个更新为19。说说数据在什么情况下不一致呢。数据不一致是指，数据库中的数据和缓存不一致（数据库缓存双写不一致问题）

A：情况1：线程A和B会修改数据库的年龄，每次修改数据库的同时也都要去更新这个缓存数据，但是若这个年龄，在缓存中一旦过期，或者是被清理掉了，那么会造成数据不一致

<img src="C:\Users\ckzh1\AppData\Roaming\Typora\typora-user-images\image-20200812211530291.png" alt="image-20200812211530291" style="zoom: 67%;" />

情况2：发生了写请求A，A的第一步删除cache（如1），A的第二步写数据库，发出修改请求（如2）发生了读请求B，B的第一步读取cache，发现cache中是空的（如3），B的第二步读取数据库，发出读取请求，此时A的第二步写数据还没完成，读出了一个脏数据放入cache（如4），在DB层面，后发出的请求4比先发出的请求2先完成了，读出了脏数据，脏数据又入了缓存，缓存与数据库中的数据不一致出现了

### 爱奇艺 VIP组 一面

1.String类为什么是线程安全的

https://www.cnblogs.com/651434092qq/p/11168608.html

2.object类的实现方法

- clone方法
  - 保护方法，实现对象的浅复制，只有实现了Cloneable接口才可以调用该方法，否则抛出CloneNotSupportedException异常。
  - 补充：**深拷贝与浅拷贝（网易有道）**
- getClass方法
  - final方法，获得运行时类型。
- toString方法
  - 该方法用得比较多，一般子类都有覆盖。
- finalize方法
  - 该方法用于释放资源。因为无法确定该方法什么时候被调用，很少使用
- equals方法
  - 该方法是非常重要的一个方法。一般equals和==是不一样的，但是在Object中两者是一样的。子类一般都重写这个方法。
- hashCode方法
  - 该方法用于哈希查找，重写了equals方法一般都要重写hashCode方法这个方法在一些具有哈希功能的Collection中用到。一般必须满足obj1.equals(obj2)==true。可以推出obj1.hashCode()==obj2.hashCode()，但是hashCode相等不一定就满足equals。
  - 不过为了提高效率，应该尽量使上面两个条件接近等价。
- wait方法
  - wait方法就是使当前线程等待该对象的锁，当前线程必须是该对象的拥有者，也就是具有该对象的锁。
  - wait()方法一直等待，直到获得锁或者被中断。wait(long timeout)设定一个超时间隔，如果在规定时间内没有获得锁就返回。
  - 调用该方法后当前线程进入睡眠状态，直到以下事件发生。
    - 其他线程调用了该对象的notify方法。
    - 其他线程调用了该对象的notifyAll方法。
    - 其他线程调用了interrupt中断该线程。
    - 时间间隔到了。此时该线程就可以被调度了，如果是被中断的话就抛出一个InterruptedException异常。
- notify方法
  - 该方法唤醒在该对象上等待的某个线程。
- notifyAll方法
  - 该方法唤醒在该对象上等待的所有线程。

3.为什么要重写hashcode()、equals()，equals()是怎么重写的

HashMap<Object,T>，这种类型的是如何判断Key是不重复的？

用过什么集合？

ArrayList与LinkList区别？

HashMap底层实现？=> 哈希表

线程安全的list？=> Vector、CopyOnWriteArrayList

CopyOnWriteArrayList集合是怎么实现线程安全的 => 写锁复制（百度）

cocurrnetHashMap实现原理 => 见资料

#### 5.Java锁机制（CAS、AQS等）

https://www.cnblogs.com/lu51211314/p/10237154.html

#### 6.Java内存模型（JMM）（用户态、内核态）

https://www.jianshu.com/p/15106e9c4bf3

#### 7.MySQL

- 事务

  - 概念
  - 事物的四大隔离级别
  - 隔离级别读未提交有啥问题

- **索引（痛点）**

  - 索引数据结构
  - 索引类型
  - 索引如何优化

#### 8.Redis

- 有什么数据结构
- sort_set做什么的
- **redis存大Value会有什么问题**
  - 随着val过大，性能会急剧下降(网上说>10k)
- redis Big Key问题
  - big key 通常会导致内存空间不平衡，超时阻塞，如果 key 较大，redis 又是单线程，操作 bigkey 比较耗时，那么阻塞 redis 的可能性增大
  - https://blog.csdn.net/huxianbo0807/article/details/102912172
- redis为什么这么快？
  - **内存数据库**，数据结构类似于HashMap，查询是O(1)
  - 数据结构简单，对数据操作也简单
  - 采用单线程，**避免了不必要的上下文切换和竞争条件，也不存在多进程或者多线程导致的切换而消耗 CPU**，不用去考虑各种锁的问题，不存在加锁释放锁操作，没有因为可能出现死锁而导致的性能消耗
  - 使用多路I/O复用模型，非阻塞IO
  - 使用底层模型不同，它们之间底层实现方式以及与客户端之间通信的应用协议不一样，Redis直接自己构建了VM 机制 ，因为一般的系统调用系统函数的话，会浪费一定的时间去移动和请求
- **redis单线程为啥这么快**
  - 代码更清晰，处理逻辑更简单
  - 不用去考虑各种锁的问题，不存在加锁释放锁操作，没有因为可能出现死锁而导致的性能消耗
  - **不存在多进程或者多线程导致的上下文切换而消耗CPU性能**
- redis单线程，单进程的弊端
  - 无法发挥多核CPU性能，不过可以通过在单机开多个Redis实例
- 缓存雪崩、缓存穿透、缓存击穿是什么？**解决方案**
- **redis集群搭建原则**
- redis集群槽是多少个（16384），为什么？

#### 9.Spring

- IOC、AOP都是干什么的？
- 动态代理是什么？原理说一下
- AOP使用场景，举个例子

#### 10.技术亮点

说一说遇到的你认为的复杂的业务场景，并说明其中的技术亮点

### 爱奇艺 视频上层组 一面（leader非全歧视）

ES搜索怎么实现的？搜索逻辑的JSON是怎么写的

### 百度-质量效能（同学面的）

- Java内存结构你了解是什么样子吗？ 

- 哪些是线程共享的区域？ 

- Java里面类的生命周期 

- String类为什么不可以被继承 

  - 不能被继承，因为String类有final修饰符，而final修饰的类是不能被继承的
  - 为了安全性，JDK好多核心类为final，其方法不可被继承，final方法不可被重写(父public方法报错，private不报错)

- 补充：类似于String这种核心类为什么是final类

  - 由于String类不能被继承，所以就不会没修改，这就避免了因为继承引起的安全隐患；

  - String类在程序中出现的频率比较高，如果为了避免安全隐患，在它每次出现时都用final来修饰，这无疑会降低程序的执行效率，所以干脆直接将其设为final一提高效率

  - > 安全性：
    >
    >  Java自出生那天起就是"为人民服务”，这也就是为什么Java做不了病毒，也不一定非得是病毒， 反正总之就是为了安全，人家Java的开发者目的就是不想让Java干这类危险的事儿，Java并不是操作系统本地语言，换句话说Java必须借助操作系统本身的力量才能做事，JDK中提供的好多核心类比如String，这类的类的内部好多方法的实现都不是Java编程语言本身编写的，好多方法都是调用的操作系统本地的API,这就是著名的"本地方法调用”，也只有这样才能做事，这种类是非常底层的，和操作系统交流频繁的，那么如果这种类可以被继承的话，如果我们再把它的方法重写了，往操作系统内部写入一段具有恶意攻击性质的代码什么的，这不就成了核心病毒了么?
    >
    > 最重要的就是不希望别人改，这个类就像一个工具-样，类的提供者给我们提供了，就希望我们直接用就完了，不想让我们随便能改，其实说白了还是安全性，如果随便能改了，那么Java编写的程序肯定就很不稳定，你可以保证自己不乱改，但是将来一个项目好多人来做，管不了别人，再说有时候万一疏忽了呢?他也不是估计的，所以这个安全性是很重要的，Java和C++相比，优点之-就包括这一点;
    > 原因绝对不只有这么多，因为如果这些个核心的类都能被随便操作的话，那是很恐怖的，会出现好多好多未知的错误，莫名其妙的错误....

- String与StringBuffer区别

- 补充：String,StringBuffer与StringBuilder的区别 

- String进行大规模数据操作的时候，会有什么问题？ 

- Java还有哪些修饰符？ 

- 抽象与接口区别 

- ==与equals区别 

- SSM与SpringBoot的最根本区别，没答出来，面试官说是，可以做自动配置。。。。 

- yml与properties格式区别 

- Mybatis核心工具类 

- 说下mvc 

- mysql的索引，联合索引，索引的规则，出了一道sql题，没记清楚 

- Redis的介绍，Redis的五种数据类型 

- Redis的key过期了，回收策略，删除 

- Linux 命令 

- 找最长回文串，动态规划 

-  反问百度技术现状，是否值得在里面实习

### 京东物流面试-1面（项目）15min

- MySQL如何进行查询优化的
- 遇到需求问题咋办？遇到技术问题咋办？
- 问了问最近的一个实习项目，难点在哪？
  - 系统中的基于内容的推荐机制
  - 业务模块反爬虫机制

### 小公司

#### Python

- py内存结构 
- py类的声明周期

#### MySQL

- myisam与innodb区别
  - https://blog.csdn.net/qq_35642036/article/details/82820178
- 









